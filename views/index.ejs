<%- include('./partials/header') %> 
  <div class="content-container">
    <h1>Users</h1>
    <div class="users-table">
      <table class="table table-bordered table-hover">
        <thead class="table-secondary">
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
          <% users.forEach(function(user){ %>
            <tr tr-id=<%=user._id%>>
                <td><%= user.name %></td>
                <td><%= user.email %></td>
                <td><%= user.role %></td>
                <td> 
                  <%= user.status === 'true' ? 'Enabled': 'Disabled' %> 
                </td>
                <td>
                    <input type="button" class="btn btn-light btn-outline-dark btn-sm" onclick="location.href='/users/<%=user._id%>';" value="Edit" />
                    <input type="button" class="btn btn-light btn-outline-dark delete-btn btn-sm" data-id=<%=user._id%> value="Delete" />
                </td>                       
            </tr>
         <% }); %>
        </tbody>
      </table>
    </div>
    
       
    <h2>Create User</h2>
    <form class="create-form" action="/api/users" method="POST">
      <div class="form-row">
        <p><label for="name">Name:</label></p>
        <input type="text" placeholder="Enter name" name="name" id="name" required/>
      </div>

      <div class="form-row">
        <p><label for="email">E-mail address:</label></p>
        <input type="email" placeholder="Enter e-mail address" name="email" id="email" required/>
      </div>

      <div class="form-row">
        <p><label for="role">Select role:</label></p>
        <select class="select-role" id="role" name="role" required>
          <% roles.forEach(function(role){ %>
            <option value="<%= role%>"><%= role%></option>
          <% }) %>
        </select>
      </div>

      <div class="form-row">
        <p>Select status:</p>
        <input type="radio" id="enabled" name="status" value="true" required>
        <label for="enabled">Enabled</label><br>
        <input type="radio" id="disabled" name="status" value="false">
        <label for="disabled">Disabled</label><br>  
      </div>

      <button class="btn btn-dark submit-btn" type="submit">Create user</button>
    </form>
  </div>
    

    <script src="/main.js"></script>
  </body>
</html>

<%- include('./partials/footer') %> 